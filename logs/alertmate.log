2025-09-27 13:56:36,562 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 13:56:36,963 [ERROR] app.utils.llm_client :: Groq LLM request failed: Completions.create() got an unexpected keyword argument 'max_completion_tokens'
2025-09-27 13:56:36,964 [WARNING] app.agents.front_agent :: Front agent LLM failed, falling back to heuristics: Groq LLM request failed
2025-09-27 13:56:36,964 [INFO] app.agents.router :: Front agent output
2025-09-27 13:56:36,965 [ERROR] app.utils.llm_client :: Groq LLM request failed: Completions.create() got an unexpected keyword argument 'max_completion_tokens'
2025-09-27 13:56:36,967 [WARNING] app.agents.police_agent :: Police agent LLM failed, using heuristics: Groq LLM request failed
2025-09-27 13:56:36,967 [INFO] app.agents.router :: Service agent response
2025-09-27 13:56:36,968 [INFO] alertmate.server :: Chat completed
2025-09-27 16:16:40,108 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:16:40,220 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:16:40,749 [ERROR] app.utils.llm_client :: Groq LLM request failed: Completions.create() got an unexpected keyword argument 'max_completion_tokens'
2025-09-27 16:16:40,749 [WARNING] app.agents.front_agent :: Front agent LLM failed, falling back to heuristics: Groq LLM request failed
2025-09-27 16:16:40,749 [ERROR] alertmate.server :: Unhandled error during chat
Traceback (most recent call last):
  File "C:\Users\hp\Desktop\MyArchive\Code\AlertMate\server.py", line 122, in chat_endpoint
    front_output, service_response = await asyncio.to_thread(
                                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\Desktop\MyArchive\Code\AlertMate\app\agents\router.py", line 115, in process
    result_state = self._graph.invoke({"request": request, "trace_id": trace_id})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\pregel\__init__.py", line 1281, in invoke
    for chunk in self.stream(
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\pregel\__init__.py", line 966, in stream
    _panic_or_proceed(done, inflight, loop.step)
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\pregel\__init__.py", line 1367, in _panic_or_proceed
    raise exc
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\pregel\executor.py", line 60, in done
    task.result()
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\pregel\retry.py", line 25, in run_with_retry
    task.proc.invoke(task.input, task.config)
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langchain_core\runnables\base.py", line 2873, in invoke
    input = step.invoke(input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\langgraph\utils.py", line 102, in invoke
    ret = context.run(self.func, input, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\Desktop\MyArchive\Code\AlertMate\app\agents\router.py", line 49, in run_front
    front_output = self.front_agent.run(request)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\Desktop\MyArchive\Code\AlertMate\app\agents\front_agent.py", line 241, in run
    return self._run_with_rules(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\Desktop\MyArchive\Code\AlertMate\app\agents\front_agent.py", line 294, in _run_with_rules
    return FrontAgentOutput(
           ^^^^^^^^^^^^^^^^^
  File "C:\Users\hp\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for FrontAgentOutput
keywords
  Value error, keywords must contain between 3 and 8 items [type=value_error, input_value=['hello'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-09-27 16:22:15,237 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:22:15,326 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:22:16,831 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:22:16,834 [WARNING] app.agents.front_agent :: Front agent LLM failed, falling back to heuristics: 1 validation error for FrontAgentOutput
keywords
  Value error, keywords must contain between 3 and 8 items [type=value_error, input_value=['hello'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-09-27 16:22:16,836 [INFO] app.agents.router :: Front agent output
2025-09-27 16:22:17,320 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:22:17,320 [INFO] app.agents.router :: Service agent response
2025-09-27 16:22:17,320 [INFO] alertmate.server :: Chat completed
2025-09-27 16:34:31,333 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:34:31,398 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:34:32,858 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:34:32,858 [WARNING] app.agents.front_agent :: Front agent LLM failed, falling back to heuristics: 1 validation error for FrontAgentOutput
keywords
  Value error, keywords must contain between 3 and 8 items [type=value_error, input_value=['hi', 'greeting'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-09-27 16:34:32,858 [INFO] app.agents.router :: Front agent output
2025-09-27 16:34:37,221 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:34:37,221 [INFO] app.agents.router :: Service agent response
2025-09-27 16:35:19,615 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:35:19,665 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:35:52,448 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:35:52,448 [WARNING] app.agents.front_agent :: Front agent LLM failed, falling back to heuristics: 1 validation error for FrontAgentOutput
keywords
  Value error, keywords must contain between 3 and 8 items [type=value_error, input_value=['hi'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-09-27 16:35:52,448 [INFO] app.agents.router :: Front agent output
2025-09-27 16:39:14,643 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:39:14,726 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:39:16,115 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:39:16,123 [INFO] app.agents.router :: Front agent output
2025-09-27 16:39:16,169 [INFO] alertmate.server :: Chat completed
2025-09-27 16:39:31,751 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:39:31,766 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:39:32,698 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:39:32,698 [INFO] app.agents.router :: Front agent output
2025-09-27 16:39:32,708 [INFO] alertmate.server :: Chat completed
2025-09-27 16:39:57,235 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:39:57,263 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:39:58,008 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:39:58,057 [INFO] app.agents.router :: Front agent output
2025-09-27 16:39:58,066 [INFO] alertmate.server :: Chat completed
2025-09-27 16:40:38,989 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 16:40:39,004 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 16:40:39,715 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:40:39,727 [INFO] app.agents.router :: Front agent output
2025-09-27 16:40:40,218 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 16:40:40,218 [INFO] app.agents.router :: Service agent response
2025-09-27 16:40:40,218 [INFO] alertmate.server :: Chat completed
2025-09-27 17:27:02,270 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 17:27:02,400 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 17:27:03,693 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 17:27:03,693 [INFO] app.agents.router :: Front agent output
2025-09-27 17:27:03,734 [INFO] app.agents.router :: Queued service task
2025-09-27 17:27:03,742 [INFO] alertmate.server :: Chat completed
2025-09-27 17:27:20,109 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 17:27:20,131 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 17:27:21,012 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 17:27:21,012 [INFO] app.agents.router :: Front agent output
2025-09-27 17:27:21,556 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 17:27:21,571 [INFO] app.agents.router :: Service agent response
2025-09-27 17:27:21,589 [INFO] app.agents.router :: Queued service task
2025-09-27 17:27:21,604 [INFO] alertmate.server :: Chat completed
2025-09-27 18:06:00,079 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 18:06:00,220 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 18:06:02,000 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 18:06:02,000 [INFO] app.agents.router :: Front agent output
2025-09-27 18:06:02,033 [INFO] app.agents.router :: Queued service task
2025-09-27 18:06:02,042 [INFO] alertmate.server :: Chat completed
2025-09-27 18:06:56,885 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 18:06:56,903 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 18:06:57,458 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 18:06:57,458 [INFO] app.agents.router :: Front agent output
2025-09-27 18:06:57,982 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 18:06:57,998 [INFO] app.agents.router :: Service agent response
2025-09-27 18:06:58,019 [INFO] app.agents.router :: Queued service task
2025-09-27 18:06:58,030 [INFO] alertmate.server :: Chat completed
2025-09-27 18:21:25,490 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': '12345678', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 18:21:52,751 [INFO] alertmate.server :: Signup attempt
2025-09-27 19:11:59,586 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'cnic'), 'msg': 'Value error, cnic must contain exactly 13 digits', 'input': '12345', 'ctx': {'error': ValueError('cnic must contain exactly 13 digits')}}, {'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234.', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 19:15:56,657 [ERROR] alertmate.server :: Validation error: [{'type': 'string_too_short', 'loc': ('body', 'password'), 'msg': 'String should have at least 8 characters', 'input': 'qwer123', 'ctx': {'min_length': 8}}]
2025-09-27 19:16:39,397 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 19:16:51,877 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 19:18:21,682 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 19:19:04,777 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234', 'ctx': {'error': ValueError('password must include mixed case characters')}}]
2025-09-27 19:20:33,780 [ERROR] alertmate.server :: Validation error: [{'type': 'value_error', 'loc': ('body', 'password'), 'msg': 'Value error, password must include mixed case characters', 'input': 'qwer1234'}]
2025-09-27 19:21:57,775 [INFO] alertmate.server :: Signup attempt
2025-09-27 19:26:52,064 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 19:26:52,084 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 19:26:53,221 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:26:53,221 [INFO] app.agents.router :: Front agent output
2025-09-27 19:26:53,235 [INFO] app.agents.router :: Queued service task
2025-09-27 19:26:53,235 [INFO] alertmate.server :: Chat completed
2025-09-27 19:30:12,308 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 19:30:12,335 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 19:30:13,066 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:30:13,082 [INFO] app.agents.router :: Front agent output
2025-09-27 19:30:13,654 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:30:13,667 [INFO] app.agents.router :: Service agent response
2025-09-27 19:30:13,684 [ERROR] alertmate.server :: Unhandled error during chat
Traceback (most recent call last):
  File "K:\Hackathon\AlertMate\server.py", line 221, in chat_endpoint
    front_output, service_response = await asyncio.to_thread(
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "K:\Hackathon\AlertMate\app\agents\router.py", line 183, in process
    service_message = self._format_service_message(service_response)
  File "K:\Hackathon\AlertMate\app\agents\router.py", line 233, in _format_service_message
    parts.append(f"Metadata: {json.dumps(service_response.metadata, ensure_ascii=False)}")
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
2025-09-27 19:30:57,688 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 19:30:57,701 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 19:30:58,335 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:30:58,335 [INFO] app.agents.router :: Front agent output
2025-09-27 19:30:58,856 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:30:58,869 [INFO] app.agents.router :: Service agent response
2025-09-27 19:30:58,885 [ERROR] alertmate.server :: Unhandled error during chat
Traceback (most recent call last):
  File "K:\Hackathon\AlertMate\server.py", line 221, in chat_endpoint
    front_output, service_response = await asyncio.to_thread(
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\asyncio\threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "K:\Hackathon\AlertMate\app\agents\router.py", line 183, in process
    service_message = self._format_service_message(service_response)
  File "K:\Hackathon\AlertMate\app\agents\router.py", line 233, in _format_service_message
    parts.append(f"Metadata: {json.dumps(service_response.metadata, ensure_ascii=False)}")
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "C:\Users\PC\AppData\Local\Programs\Python\Python310\lib\json\encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
2025-09-27 19:31:24,731 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 19:31:24,742 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 19:31:25,427 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:31:25,427 [INFO] app.agents.router :: Front agent output
2025-09-27 19:31:25,444 [INFO] app.agents.router :: Queued service task
2025-09-27 19:31:25,467 [INFO] alertmate.server :: Chat completed
2025-09-27 19:32:10,999 [INFO] app.agents.router :: Processing dispatch request
2025-09-27 19:32:11,019 [INFO] app.agents.router :: Front agent dispatch
2025-09-27 19:32:11,830 [INFO] httpx :: HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-27 19:32:11,830 [INFO] app.agents.router :: Front agent output
2025-09-27 19:32:11,897 [INFO] app.agents.router :: Queued service task
2025-09-27 19:32:11,911 [INFO] alertmate.server :: Chat completed
